<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.elextec.persist.dao.mybatis.BizPartsMapperExt">

    <resultMap extends="BaseResultMap" id="SysPartsExtResultMap" type="com.elextec.persist.model.mybatis.ext.BizPartsExt">
        <result column="mfrs_name" jdbcType="VARCHAR" property="mfrsName" />
    </resultMap>

    <select id="getById" parameterType="java.lang.String" resultMap="SysPartsExtResultMap">
        SELECT
				p.id,
				p.parts_code,
				p.parts_name,
				p.parts_brand,
				p.parts_pn,
				p.parts_type,
				p.parts_parameters,
				m.mfrs_name,
				p.parts_status,
				p.create_user,
				p.create_time,
				p.update_user,
				p.update_time
        FROM biz_ref_vehicle_parts r
        LEFT JOIN biz_parts p ON p.id = r.parts_id
        LEFT JOIN biz_manufacturer m ON m.id = p.mfrs_id
        WHERE r.vehicle_id = #{id,jdbcType=VARCHAR} AND r.unbind_time is NULL
    </select>

</mapper>